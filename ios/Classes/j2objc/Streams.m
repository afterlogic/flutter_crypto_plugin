//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../android/src/main/kotlin/lib/org/bouncycastle/util/io/Streams.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "StreamOverflowException.h"
#include "Streams.h"
#include "java/io/ByteArrayOutputStream.h"
#include "java/io/InputStream.h"
#include "java/io/OutputStream.h"

inline jint LibOrgBouncycastleUtilIoStreams_get_BUFFER_SIZE(void);
inline jint LibOrgBouncycastleUtilIoStreams_set_BUFFER_SIZE(jint value);
inline jint *LibOrgBouncycastleUtilIoStreams_getRef_BUFFER_SIZE(void);
static jint LibOrgBouncycastleUtilIoStreams_BUFFER_SIZE = 4096;
J2OBJC_STATIC_FIELD_PRIMITIVE(LibOrgBouncycastleUtilIoStreams, BUFFER_SIZE, jint)

@implementation LibOrgBouncycastleUtilIoStreams

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  LibOrgBouncycastleUtilIoStreams_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (void)drainWithJavaIoInputStream:(JavaIoInputStream *)inStr {
  LibOrgBouncycastleUtilIoStreams_drainWithJavaIoInputStream_(inStr);
}

+ (IOSByteArray *)readAllWithJavaIoInputStream:(JavaIoInputStream *)inStr {
  return LibOrgBouncycastleUtilIoStreams_readAllWithJavaIoInputStream_(inStr);
}

+ (IOSByteArray *)readAllLimitedWithJavaIoInputStream:(JavaIoInputStream *)inStr
                                              withInt:(jint)limit {
  return LibOrgBouncycastleUtilIoStreams_readAllLimitedWithJavaIoInputStream_withInt_(inStr, limit);
}

+ (jint)readFullyWithJavaIoInputStream:(JavaIoInputStream *)inStr
                         withByteArray:(IOSByteArray *)buf {
  return LibOrgBouncycastleUtilIoStreams_readFullyWithJavaIoInputStream_withByteArray_(inStr, buf);
}

+ (jint)readFullyWithJavaIoInputStream:(JavaIoInputStream *)inStr
                         withByteArray:(IOSByteArray *)buf
                               withInt:(jint)off
                               withInt:(jint)len {
  return LibOrgBouncycastleUtilIoStreams_readFullyWithJavaIoInputStream_withByteArray_withInt_withInt_(inStr, buf, off, len);
}

+ (void)pipeAllWithJavaIoInputStream:(JavaIoInputStream *)inStr
              withJavaIoOutputStream:(JavaIoOutputStream *)outStr {
  LibOrgBouncycastleUtilIoStreams_pipeAllWithJavaIoInputStream_withJavaIoOutputStream_(inStr, outStr);
}

+ (jlong)pipeAllLimitedWithJavaIoInputStream:(JavaIoInputStream *)inStr
                                    withLong:(jlong)limit
                      withJavaIoOutputStream:(JavaIoOutputStream *)outStr {
  return LibOrgBouncycastleUtilIoStreams_pipeAllLimitedWithJavaIoInputStream_withLong_withJavaIoOutputStream_(inStr, limit, outStr);
}

+ (void)writeBufToWithJavaIoByteArrayOutputStream:(JavaIoByteArrayOutputStream *)buf
                           withJavaIoOutputStream:(JavaIoOutputStream *)output {
  LibOrgBouncycastleUtilIoStreams_writeBufToWithJavaIoByteArrayOutputStream_withJavaIoOutputStream_(buf, output);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x9, 0, 1, 2, -1, -1, -1 },
    { NULL, "[B", 0x9, 3, 1, 2, -1, -1, -1 },
    { NULL, "[B", 0x9, 4, 5, 2, -1, -1, -1 },
    { NULL, "I", 0x9, 6, 7, 2, -1, -1, -1 },
    { NULL, "I", 0x9, 6, 8, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 9, 10, 2, -1, -1, -1 },
    { NULL, "J", 0x9, 11, 12, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 13, 14, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(drainWithJavaIoInputStream:);
  methods[2].selector = @selector(readAllWithJavaIoInputStream:);
  methods[3].selector = @selector(readAllLimitedWithJavaIoInputStream:withInt:);
  methods[4].selector = @selector(readFullyWithJavaIoInputStream:withByteArray:);
  methods[5].selector = @selector(readFullyWithJavaIoInputStream:withByteArray:withInt:withInt:);
  methods[6].selector = @selector(pipeAllWithJavaIoInputStream:withJavaIoOutputStream:);
  methods[7].selector = @selector(pipeAllLimitedWithJavaIoInputStream:withLong:withJavaIoOutputStream:);
  methods[8].selector = @selector(writeBufToWithJavaIoByteArrayOutputStream:withJavaIoOutputStream:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "BUFFER_SIZE", "I", .constantValue.asLong = 0, 0xa, -1, 15, -1, -1 },
  };
  static const void *ptrTable[] = { "drain", "LJavaIoInputStream;", "LJavaIoIOException;", "readAll", "readAllLimited", "LJavaIoInputStream;I", "readFully", "LJavaIoInputStream;[B", "LJavaIoInputStream;[BII", "pipeAll", "LJavaIoInputStream;LJavaIoOutputStream;", "pipeAllLimited", "LJavaIoInputStream;JLJavaIoOutputStream;", "writeBufTo", "LJavaIoByteArrayOutputStream;LJavaIoOutputStream;", &LibOrgBouncycastleUtilIoStreams_BUFFER_SIZE };
  static const J2ObjcClassInfo _LibOrgBouncycastleUtilIoStreams = { "Streams", "lib.org.bouncycastle.util.io", ptrTable, methods, fields, 7, 0x11, 9, 1, -1, -1, -1, -1, -1 };
  return &_LibOrgBouncycastleUtilIoStreams;
}

@end

void LibOrgBouncycastleUtilIoStreams_init(LibOrgBouncycastleUtilIoStreams *self) {
  NSObject_init(self);
}

LibOrgBouncycastleUtilIoStreams *new_LibOrgBouncycastleUtilIoStreams_init() {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleUtilIoStreams, init)
}

LibOrgBouncycastleUtilIoStreams *create_LibOrgBouncycastleUtilIoStreams_init() {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleUtilIoStreams, init)
}

void LibOrgBouncycastleUtilIoStreams_drainWithJavaIoInputStream_(JavaIoInputStream *inStr) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  IOSByteArray *bs = [IOSByteArray newArrayWithLength:LibOrgBouncycastleUtilIoStreams_BUFFER_SIZE];
  while ([((JavaIoInputStream *) nil_chk(inStr)) readWithByteArray:bs withInt:0 withInt:bs->size_] >= 0) {
  }
}

IOSByteArray *LibOrgBouncycastleUtilIoStreams_readAllWithJavaIoInputStream_(JavaIoInputStream *inStr) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  JavaIoByteArrayOutputStream *buf = new_JavaIoByteArrayOutputStream_init();
  LibOrgBouncycastleUtilIoStreams_pipeAllWithJavaIoInputStream_withJavaIoOutputStream_(inStr, buf);
  return [buf toByteArray];
}

IOSByteArray *LibOrgBouncycastleUtilIoStreams_readAllLimitedWithJavaIoInputStream_withInt_(JavaIoInputStream *inStr, jint limit) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  JavaIoByteArrayOutputStream *buf = new_JavaIoByteArrayOutputStream_init();
  LibOrgBouncycastleUtilIoStreams_pipeAllLimitedWithJavaIoInputStream_withLong_withJavaIoOutputStream_(inStr, limit, buf);
  return [buf toByteArray];
}

jint LibOrgBouncycastleUtilIoStreams_readFullyWithJavaIoInputStream_withByteArray_(JavaIoInputStream *inStr, IOSByteArray *buf) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  return LibOrgBouncycastleUtilIoStreams_readFullyWithJavaIoInputStream_withByteArray_withInt_withInt_(inStr, buf, 0, ((IOSByteArray *) nil_chk(buf))->size_);
}

jint LibOrgBouncycastleUtilIoStreams_readFullyWithJavaIoInputStream_withByteArray_withInt_withInt_(JavaIoInputStream *inStr, IOSByteArray *buf, jint off, jint len) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  jint totalRead = 0;
  while (totalRead < len) {
    jint numRead = [((JavaIoInputStream *) nil_chk(inStr)) readWithByteArray:buf withInt:off + totalRead withInt:len - totalRead];
    if (numRead < 0) {
      break;
    }
    totalRead += numRead;
  }
  return totalRead;
}

void LibOrgBouncycastleUtilIoStreams_pipeAllWithJavaIoInputStream_withJavaIoOutputStream_(JavaIoInputStream *inStr, JavaIoOutputStream *outStr) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  IOSByteArray *bs = [IOSByteArray newArrayWithLength:LibOrgBouncycastleUtilIoStreams_BUFFER_SIZE];
  jint numRead;
  while ((numRead = [((JavaIoInputStream *) nil_chk(inStr)) readWithByteArray:bs withInt:0 withInt:bs->size_]) >= 0) {
    [((JavaIoOutputStream *) nil_chk(outStr)) writeWithByteArray:bs withInt:0 withInt:numRead];
  }
}

jlong LibOrgBouncycastleUtilIoStreams_pipeAllLimitedWithJavaIoInputStream_withLong_withJavaIoOutputStream_(JavaIoInputStream *inStr, jlong limit, JavaIoOutputStream *outStr) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  jlong total = 0;
  IOSByteArray *bs = [IOSByteArray newArrayWithLength:LibOrgBouncycastleUtilIoStreams_BUFFER_SIZE];
  jint numRead;
  while ((numRead = [((JavaIoInputStream *) nil_chk(inStr)) readWithByteArray:bs withInt:0 withInt:bs->size_]) >= 0) {
    if ((limit - total) < numRead) {
      @throw new_LibOrgBouncycastleUtilIoStreamOverflowException_initWithNSString_(@"Data Overflow");
    }
    total += numRead;
    [((JavaIoOutputStream *) nil_chk(outStr)) writeWithByteArray:bs withInt:0 withInt:numRead];
  }
  return total;
}

void LibOrgBouncycastleUtilIoStreams_writeBufToWithJavaIoByteArrayOutputStream_withJavaIoOutputStream_(JavaIoByteArrayOutputStream *buf, JavaIoOutputStream *output) {
  LibOrgBouncycastleUtilIoStreams_initialize();
  [((JavaIoByteArrayOutputStream *) nil_chk(buf)) writeToWithJavaIoOutputStream:output];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastleUtilIoStreams)
