//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../android/src/main/kotlin/lib/org/bouncycastle/crypto/generators/Poly1305KeyGenerator.java
//

#include "CipherKeyGenerator.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "KeyGenerationParameters.h"
#include "Poly1305KeyGenerator.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/security/SecureRandom.h"

@interface LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator ()

+ (void)checkMaskWithByte:(jbyte)b
                 withByte:(jbyte)mask;

@end

inline jbyte LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_get_R_MASK_LOW_2(void);
#define LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2 -4
J2OBJC_STATIC_FIELD_CONSTANT(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator, R_MASK_LOW_2, jbyte)

inline jbyte LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_get_R_MASK_HIGH_4(void);
#define LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4 15
J2OBJC_STATIC_FIELD_CONSTANT(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator, R_MASK_HIGH_4, jbyte)

__attribute__((unused)) static void LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(jbyte b, jbyte mask);

@implementation LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)init__WithLibOrgBouncycastleCryptoKeyGenerationParameters:(LibOrgBouncycastleCryptoKeyGenerationParameters *)param {
  [super init__WithLibOrgBouncycastleCryptoKeyGenerationParameters:new_LibOrgBouncycastleCryptoKeyGenerationParameters_initWithJavaSecuritySecureRandom_withInt_([((LibOrgBouncycastleCryptoKeyGenerationParameters *) nil_chk(param)) getRandom], 256)];
}

- (IOSByteArray *)generateKey {
  IOSByteArray *key = [super generateKey];
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_clampWithByteArray_(key);
  return key;
}

+ (void)clampWithByteArray:(IOSByteArray *)key {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_clampWithByteArray_(key);
}

+ (void)checkKeyWithByteArray:(IOSByteArray *)key {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkKeyWithByteArray_(key);
}

+ (void)checkMaskWithByte:(jbyte)b
                 withByte:(jbyte)mask {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(b, mask);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x9, 2, 3, -1, -1, -1, -1 },
    { NULL, "V", 0x9, 4, 3, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 5, 6, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(init__WithLibOrgBouncycastleCryptoKeyGenerationParameters:);
  methods[2].selector = @selector(generateKey);
  methods[3].selector = @selector(clampWithByteArray:);
  methods[4].selector = @selector(checkKeyWithByteArray:);
  methods[5].selector = @selector(checkMaskWithByte:withByte:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "R_MASK_LOW_2", "B", .constantValue.asChar = LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2, 0x1a, -1, -1, -1, -1 },
    { "R_MASK_HIGH_4", "B", .constantValue.asChar = LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4, 0x1a, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "init", "LLibOrgBouncycastleCryptoKeyGenerationParameters;", "clamp", "[B", "checkKey", "checkMask", "BB" };
  static const J2ObjcClassInfo _LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator = { "Poly1305KeyGenerator", "lib.org.bouncycastle.crypto.generators", ptrTable, methods, fields, 7, 0x1, 6, 2, -1, -1, -1, -1, -1 };
  return &_LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator;
}

@end

void LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_init(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator *self) {
  LibOrgBouncycastleCryptoCipherKeyGenerator_init(self);
}

LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator *new_LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_init() {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator, init)
}

LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator *create_LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_init() {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator, init)
}

void LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_clampWithByteArray_(IOSByteArray *key) {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_initialize();
  if (((IOSByteArray *) nil_chk(key))->size_ != 32) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"JcajcePoly1305 key must be 256 bits.");
  }
  *IOSByteArray_GetRef(key, 3) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4;
  *IOSByteArray_GetRef(key, 7) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4;
  *IOSByteArray_GetRef(key, 11) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4;
  *IOSByteArray_GetRef(key, 15) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4;
  *IOSByteArray_GetRef(key, 4) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2;
  *IOSByteArray_GetRef(key, 8) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2;
  *IOSByteArray_GetRef(key, 12) &= LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2;
}

void LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkKeyWithByteArray_(IOSByteArray *key) {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_initialize();
  if (((IOSByteArray *) nil_chk(key))->size_ != 32) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"JcajcePoly1305 key must be 256 bits.");
  }
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 3), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 7), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 11), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 15), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_HIGH_4);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 4), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 8), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2);
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(IOSByteArray_Get(key, 12), LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_R_MASK_LOW_2);
}

void LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_checkMaskWithByte_withByte_(jbyte b, jbyte mask) {
  LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator_initialize();
  if ((b & (~mask)) != 0) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"Invalid format for r portion of JcajcePoly1305 key.");
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastleCryptoGeneratorsPoly1305KeyGenerator)
