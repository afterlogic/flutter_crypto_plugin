//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../android/src/main/kotlin/lib/org/bouncycastle/crypto/tls/DTLSReliableHandshake.java
//

#include "AlertDescription.h"
#include "DTLSHandshakeRetransmit.h"
#include "DTLSReassembler.h"
#include "DTLSRecordLayer.h"
#include "DTLSReliableHandshake.h"
#include "DeferredHash.h"
#include "HandshakeType.h"
#include "IOSPrimitiveArray.h"
#include "Integers.h"
#include "J2ObjC_source.h"
#include "TlsContext.h"
#include "TlsFatalAlert.h"
#include "TlsHandshakeHash.h"
#include "TlsUtils.h"
#include "java/io/ByteArrayOutputStream.h"
#include "java/io/IOException.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "java/util/Enumeration.h"
#include "java/util/Hashtable.h"
#include "java/util/Vector.h"

@interface LibOrgBouncycastleCryptoTlsDTLSReliableHandshake () {
 @public
  LibOrgBouncycastleCryptoTlsDTLSRecordLayer *recordLayer_;
  id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash> handshakeHash_;
  JavaUtilHashtable *currentInboundFlight_;
  JavaUtilHashtable *previousInboundFlight_;
  JavaUtilVector *outboundFlight_;
  jboolean sending_;
  jint message_seq_;
  jint next_receive_seq_;
}

- (jint)backOffWithInt:(jint)timeoutMillis;

- (void)checkInboundFlight;

- (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)getPendingMessage;

- (void)prepareInboundFlightWithJavaUtilHashtable:(JavaUtilHashtable *)nextFlight;

- (jboolean)processRecordWithInt:(jint)windowSize
                         withInt:(jint)epoch
                   withByteArray:(IOSByteArray *)buf
                         withInt:(jint)off
                         withInt:(jint)len;

- (void)resendOutboundFlight;

- (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message;

- (void)writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message;

- (void)writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message
                                                                                   withInt:(jint)fragment_offset
                                                                                   withInt:(jint)fragment_length;

+ (jboolean)checkAllWithJavaUtilHashtable:(JavaUtilHashtable *)inboundFlight;

+ (void)resetAllWithJavaUtilHashtable:(JavaUtilHashtable *)inboundFlight;

@end

J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, recordLayer_, LibOrgBouncycastleCryptoTlsDTLSRecordLayer *)
J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, handshakeHash_, id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>)
J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, currentInboundFlight_, JavaUtilHashtable *)
J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, previousInboundFlight_, JavaUtilHashtable *)
J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, outboundFlight_, JavaUtilVector *)

inline jint LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_get_MAX_RECEIVE_AHEAD(void);
#define LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MAX_RECEIVE_AHEAD 16
J2OBJC_STATIC_FIELD_CONSTANT(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, MAX_RECEIVE_AHEAD, jint)

inline jint LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_get_MESSAGE_HEADER_LENGTH(void);
#define LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH 12
J2OBJC_STATIC_FIELD_CONSTANT(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, MESSAGE_HEADER_LENGTH, jint)

__attribute__((unused)) static jint LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_backOffWithInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, jint timeoutMillis);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkInboundFlight(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self);

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_getPendingMessage(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_prepareInboundFlightWithJavaUtilHashtable_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, JavaUtilHashtable *nextFlight);

__attribute__((unused)) static jboolean LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_processRecordWithInt_withInt_withByteArray_withInt_withInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, jint windowSize, jint epoch, IOSByteArray *buf, jint off, jint len);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resendOutboundFlight(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self);

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_withInt_withInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message, jint fragment_offset, jint fragment_length);

__attribute__((unused)) static jboolean LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkAllWithJavaUtilHashtable_(JavaUtilHashtable *inboundFlight);

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resetAllWithJavaUtilHashtable_(JavaUtilHashtable *inboundFlight);

@interface LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 : NSObject < LibOrgBouncycastleCryptoTlsDTLSHandshakeRetransmit > {
 @public
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *this$0_;
}

- (instancetype)initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *)outer$;

- (void)receivedHandshakeRecordWithInt:(jint)epoch
                         withByteArray:(IOSByteArray *)buf
                               withInt:(jint)off
                               withInt:(jint)len;

@end

J2OBJC_EMPTY_STATIC_INIT(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1)

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$);

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$);

@interface LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message () {
 @public
  jint message_seq_;
  jshort msg_type_;
  IOSByteArray *body_;
}

- (instancetype)initWithInt:(jint)message_seq
                  withShort:(jshort)msg_type
              withByteArray:(IOSByteArray *)body;

@end

J2OBJC_FIELD_SETTER(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message, body_, IOSByteArray *)

__attribute__((unused)) static void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *self, jint message_seq, jshort msg_type, IOSByteArray *body);

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(jint message_seq, jshort msg_type, IOSByteArray *body) NS_RETURNS_RETAINED;

__attribute__((unused)) static LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(jint message_seq, jshort msg_type, IOSByteArray *body);

@implementation LibOrgBouncycastleCryptoTlsDTLSReliableHandshake

- (instancetype)initWithLibOrgBouncycastleCryptoTlsTlsContext:(id<LibOrgBouncycastleCryptoTlsTlsContext>)context
               withLibOrgBouncycastleCryptoTlsDTLSRecordLayer:(LibOrgBouncycastleCryptoTlsDTLSRecordLayer *)transport {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_(self, context, transport);
  return self;
}

- (void)notifyHelloComplete {
  self->handshakeHash_ = [((id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>) nil_chk(handshakeHash_)) notifyPRFDetermined];
}

- (id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>)getHandshakeHash {
  return handshakeHash_;
}

- (id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>)prepareToFinish {
  id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash> result = handshakeHash_;
  self->handshakeHash_ = [((id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>) nil_chk(handshakeHash_)) stopTracking];
  return result;
}

- (void)sendMessageWithShort:(jshort)msg_type
               withByteArray:(IOSByteArray *)body {
  LibOrgBouncycastleCryptoTlsTlsUtils_checkUint24WithInt_(((IOSByteArray *) nil_chk(body))->size_);
  if (!sending_) {
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkInboundFlight(self);
    sending_ = true;
    [((JavaUtilVector *) nil_chk(outboundFlight_)) removeAllElements];
  }
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message = new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(message_seq_++, msg_type, body);
  [((JavaUtilVector *) nil_chk(outboundFlight_)) addElementWithId:message];
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, message);
  (void) LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, message);
}

- (IOSByteArray *)receiveMessageBodyWithShort:(jshort)msg_type {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message = [self receiveMessage];
  if ([((LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *) nil_chk(message)) getType] != msg_type) {
    @throw new_LibOrgBouncycastleCryptoTlsTlsFatalAlert_initWithShort_(LibOrgBouncycastleCryptoTlsAlertDescription_unexpected_message);
  }
  return [message getBody];
}

- (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)receiveMessage {
  if (sending_) {
    sending_ = false;
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_prepareInboundFlightWithJavaUtilHashtable_(self, new_JavaUtilHashtable_init());
  }
  IOSByteArray *buf = nil;
  jint readTimeoutMillis = 1000;
  for (; ; ) {
    @try {
      for (; ; ) {
        LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *pending = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_getPendingMessage(self);
        if (pending != nil) {
          return pending;
        }
        jint receiveLimit = [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(recordLayer_)) getReceiveLimit];
        if (buf == nil || buf->size_ < receiveLimit) {
          buf = [IOSByteArray newArrayWithLength:receiveLimit];
        }
        jint received = [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(recordLayer_)) receiveWithByteArray:buf withInt:0 withInt:receiveLimit withInt:readTimeoutMillis];
        if (received < 0) {
          break;
        }
        jboolean resentOutbound = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_processRecordWithInt_withInt_withByteArray_withInt_withInt_(self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MAX_RECEIVE_AHEAD, [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(recordLayer_)) getReadEpoch], buf, 0, received);
        if (resentOutbound) {
          readTimeoutMillis = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_backOffWithInt_(self, readTimeoutMillis);
        }
      }
    }
    @catch (JavaIoIOException *e) {
    }
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resendOutboundFlight(self);
    readTimeoutMillis = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_backOffWithInt_(self, readTimeoutMillis);
  }
}

- (void)finish {
  id<LibOrgBouncycastleCryptoTlsDTLSHandshakeRetransmit> retransmit = nil;
  if (!sending_) {
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkInboundFlight(self);
  }
  else {
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_prepareInboundFlightWithJavaUtilHashtable_(self, nil);
    if (previousInboundFlight_ != nil) {
      retransmit = new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(self);
    }
  }
  [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(recordLayer_)) handshakeSuccessfulWithLibOrgBouncycastleCryptoTlsDTLSHandshakeRetransmit:retransmit];
}

- (void)resetHandshakeMessagesDigest {
  [((id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>) nil_chk(handshakeHash_)) reset];
}

- (jint)backOffWithInt:(jint)timeoutMillis {
  return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_backOffWithInt_(self, timeoutMillis);
}

- (void)checkInboundFlight {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkInboundFlight(self);
}

- (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)getPendingMessage {
  return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_getPendingMessage(self);
}

- (void)prepareInboundFlightWithJavaUtilHashtable:(JavaUtilHashtable *)nextFlight {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_prepareInboundFlightWithJavaUtilHashtable_(self, nextFlight);
}

- (jboolean)processRecordWithInt:(jint)windowSize
                         withInt:(jint)epoch
                   withByteArray:(IOSByteArray *)buf
                         withInt:(jint)off
                         withInt:(jint)len {
  return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_processRecordWithInt_withInt_withByteArray_withInt_withInt_(self, windowSize, epoch, buf, off, len);
}

- (void)resendOutboundFlight {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resendOutboundFlight(self);
}

- (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message {
  return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, message);
}

- (void)writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, message);
}

- (void)writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *)message
                                                                                   withInt:(jint)fragment_offset
                                                                                   withInt:(jint)fragment_length {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_withInt_withInt_(self, message, fragment_offset, fragment_length);
}

+ (jboolean)checkAllWithJavaUtilHashtable:(JavaUtilHashtable *)inboundFlight {
  return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkAllWithJavaUtilHashtable_(inboundFlight);
}

+ (void)resetAllWithJavaUtilHashtable:(JavaUtilHashtable *)inboundFlight {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resetAllWithJavaUtilHashtable_(inboundFlight);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastleCryptoTlsTlsHandshakeHash;", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastleCryptoTlsTlsHandshakeHash;", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 1, 2, 3, -1, -1, -1 },
    { NULL, "[B", 0x0, 4, 5, 3, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;", 0x0, -1, -1, 3, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x2, 6, 7, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;", 0x2, -1, -1, 3, -1, -1, -1 },
    { NULL, "V", 0x2, 8, 9, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 10, 11, 3, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, 3, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;", 0x2, 12, 13, 3, -1, -1, -1 },
    { NULL, "V", 0x2, 14, 13, 3, -1, -1, -1 },
    { NULL, "V", 0x2, 15, 16, 3, -1, -1, -1 },
    { NULL, "Z", 0xa, 17, 9, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 18, 9, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithLibOrgBouncycastleCryptoTlsTlsContext:withLibOrgBouncycastleCryptoTlsDTLSRecordLayer:);
  methods[1].selector = @selector(notifyHelloComplete);
  methods[2].selector = @selector(getHandshakeHash);
  methods[3].selector = @selector(prepareToFinish);
  methods[4].selector = @selector(sendMessageWithShort:withByteArray:);
  methods[5].selector = @selector(receiveMessageBodyWithShort:);
  methods[6].selector = @selector(receiveMessage);
  methods[7].selector = @selector(finish);
  methods[8].selector = @selector(resetHandshakeMessagesDigest);
  methods[9].selector = @selector(backOffWithInt:);
  methods[10].selector = @selector(checkInboundFlight);
  methods[11].selector = @selector(getPendingMessage);
  methods[12].selector = @selector(prepareInboundFlightWithJavaUtilHashtable:);
  methods[13].selector = @selector(processRecordWithInt:withInt:withByteArray:withInt:withInt:);
  methods[14].selector = @selector(resendOutboundFlight);
  methods[15].selector = @selector(updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:);
  methods[16].selector = @selector(writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:);
  methods[17].selector = @selector(writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message:withInt:withInt:);
  methods[18].selector = @selector(checkAllWithJavaUtilHashtable:);
  methods[19].selector = @selector(resetAllWithJavaUtilHashtable:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "MAX_RECEIVE_AHEAD", "I", .constantValue.asInt = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MAX_RECEIVE_AHEAD, 0x1a, -1, -1, -1, -1 },
    { "MESSAGE_HEADER_LENGTH", "I", .constantValue.asInt = LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH, 0x1a, -1, -1, -1, -1 },
    { "recordLayer_", "LLibOrgBouncycastleCryptoTlsDTLSRecordLayer;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "handshakeHash_", "LLibOrgBouncycastleCryptoTlsTlsHandshakeHash;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "currentInboundFlight_", "LJavaUtilHashtable;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "previousInboundFlight_", "LJavaUtilHashtable;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "outboundFlight_", "LJavaUtilVector;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "sending_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "message_seq_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "next_receive_seq_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LLibOrgBouncycastleCryptoTlsTlsContext;LLibOrgBouncycastleCryptoTlsDTLSRecordLayer;", "sendMessage", "S[B", "LJavaIoIOException;", "receiveMessageBody", "S", "backOff", "I", "prepareInboundFlight", "LJavaUtilHashtable;", "processRecord", "II[BII", "updateHandshakeMessagesDigest", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;", "writeMessage", "writeHandshakeFragment", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;II", "checkAll", "resetAll", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer;" };
  static const J2ObjcClassInfo _LibOrgBouncycastleCryptoTlsDTLSReliableHandshake = { "DTLSReliableHandshake", "lib.org.bouncycastle.crypto.tls", ptrTable, methods, fields, 7, 0x0, 20, 10, -1, 19, -1, -1, -1 };
  return &_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake;
}

@end

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, id<LibOrgBouncycastleCryptoTlsTlsContext> context, LibOrgBouncycastleCryptoTlsDTLSRecordLayer *transport) {
  NSObject_init(self);
  self->currentInboundFlight_ = new_JavaUtilHashtable_init();
  self->previousInboundFlight_ = nil;
  self->outboundFlight_ = new_JavaUtilVector_init();
  self->sending_ = true;
  self->message_seq_ = 0;
  self->next_receive_seq_ = 0;
  self->recordLayer_ = transport;
  self->handshakeHash_ = new_LibOrgBouncycastleCryptoTlsDeferredHash_init();
  [self->handshakeHash_ init__WithLibOrgBouncycastleCryptoTlsTlsContext:context];
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_(id<LibOrgBouncycastleCryptoTlsTlsContext> context, LibOrgBouncycastleCryptoTlsDTLSRecordLayer *transport) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_, context, transport)
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_(id<LibOrgBouncycastleCryptoTlsTlsContext> context, LibOrgBouncycastleCryptoTlsDTLSRecordLayer *transport) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake, initWithLibOrgBouncycastleCryptoTlsTlsContext_withLibOrgBouncycastleCryptoTlsDTLSRecordLayer_, context, transport)
}

jint LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_backOffWithInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, jint timeoutMillis) {
  return JavaLangMath_minWithInt_withInt_(timeoutMillis * 2, 60000);
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkInboundFlight(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self) {
  id<JavaUtilEnumeration> e = [((JavaUtilHashtable *) nil_chk(self->currentInboundFlight_)) keys];
  while ([((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]) {
    JavaLangInteger *key = (JavaLangInteger *) cast_chk([e nextElement], [JavaLangInteger class]);
    if ([((JavaLangInteger *) nil_chk(key)) intValue] >= self->next_receive_seq_) {
    }
  }
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_getPendingMessage(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self) {
  LibOrgBouncycastleCryptoTlsDTLSReassembler *next = (LibOrgBouncycastleCryptoTlsDTLSReassembler *) cast_chk([((JavaUtilHashtable *) nil_chk(self->currentInboundFlight_)) getWithId:LibOrgBouncycastleUtilIntegers_valueOfWithInt_(self->next_receive_seq_)], [LibOrgBouncycastleCryptoTlsDTLSReassembler class]);
  if (next != nil) {
    IOSByteArray *body = [next getBodyIfComplete];
    if (body != nil) {
      self->previousInboundFlight_ = nil;
      return LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(self->next_receive_seq_++, [next getMsgType], body));
    }
  }
  return nil;
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_prepareInboundFlightWithJavaUtilHashtable_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, JavaUtilHashtable *nextFlight) {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resetAllWithJavaUtilHashtable_(self->currentInboundFlight_);
  self->previousInboundFlight_ = self->currentInboundFlight_;
  self->currentInboundFlight_ = nextFlight;
}

jboolean LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_processRecordWithInt_withInt_withByteArray_withInt_withInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, jint windowSize, jint epoch, IOSByteArray *buf, jint off, jint len) {
  jboolean checkPreviousFlight = false;
  while (len >= LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH) {
    jint fragment_length = LibOrgBouncycastleCryptoTlsTlsUtils_readUint24WithByteArray_withInt_(buf, off + 9);
    jint message_length = fragment_length + LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH;
    if (len < message_length) {
      break;
    }
    jint length = LibOrgBouncycastleCryptoTlsTlsUtils_readUint24WithByteArray_withInt_(buf, off + 1);
    jint fragment_offset = LibOrgBouncycastleCryptoTlsTlsUtils_readUint24WithByteArray_withInt_(buf, off + 6);
    if (fragment_offset + fragment_length > length) {
      break;
    }
    jshort msg_type = LibOrgBouncycastleCryptoTlsTlsUtils_readUint8WithByteArray_withInt_(buf, off + 0);
    jint expectedEpoch = msg_type == LibOrgBouncycastleCryptoTlsHandshakeType_finished ? 1 : 0;
    if (epoch != expectedEpoch) {
      break;
    }
    jint message_seq = LibOrgBouncycastleCryptoTlsTlsUtils_readUint16WithByteArray_withInt_(buf, off + 4);
    if (message_seq >= (self->next_receive_seq_ + windowSize)) {
    }
    else if (message_seq >= self->next_receive_seq_) {
      LibOrgBouncycastleCryptoTlsDTLSReassembler *reassembler = (LibOrgBouncycastleCryptoTlsDTLSReassembler *) cast_chk([((JavaUtilHashtable *) nil_chk(self->currentInboundFlight_)) getWithId:LibOrgBouncycastleUtilIntegers_valueOfWithInt_(message_seq)], [LibOrgBouncycastleCryptoTlsDTLSReassembler class]);
      if (reassembler == nil) {
        reassembler = new_LibOrgBouncycastleCryptoTlsDTLSReassembler_initWithShort_withInt_(msg_type, length);
        (void) [((JavaUtilHashtable *) nil_chk(self->currentInboundFlight_)) putWithId:LibOrgBouncycastleUtilIntegers_valueOfWithInt_(message_seq) withId:reassembler];
      }
      [reassembler contributeFragmentWithShort:msg_type withInt:length withByteArray:buf withInt:off + LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH withInt:fragment_offset withInt:fragment_length];
    }
    else if (self->previousInboundFlight_ != nil) {
      LibOrgBouncycastleCryptoTlsDTLSReassembler *reassembler = (LibOrgBouncycastleCryptoTlsDTLSReassembler *) cast_chk([self->previousInboundFlight_ getWithId:LibOrgBouncycastleUtilIntegers_valueOfWithInt_(message_seq)], [LibOrgBouncycastleCryptoTlsDTLSReassembler class]);
      if (reassembler != nil) {
        [reassembler contributeFragmentWithShort:msg_type withInt:length withByteArray:buf withInt:off + LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH withInt:fragment_offset withInt:fragment_length];
        checkPreviousFlight = true;
      }
    }
    off += message_length;
    len -= message_length;
  }
  jboolean result = checkPreviousFlight && LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkAllWithJavaUtilHashtable_(self->previousInboundFlight_);
  if (result) {
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resendOutboundFlight(self);
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resetAllWithJavaUtilHashtable_(self->previousInboundFlight_);
  }
  return result;
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resendOutboundFlight(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self) {
  [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(self->recordLayer_)) resetWriteEpoch];
  for (jint i = 0; i < [((JavaUtilVector *) nil_chk(self->outboundFlight_)) size]; ++i) {
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(self, (LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *) cast_chk([((JavaUtilVector *) nil_chk(self->outboundFlight_)) elementAtWithInt:i], [LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message class]));
  }
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_updateHandshakeMessagesDigestWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message) {
  if ([((LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *) nil_chk(message)) getType] != LibOrgBouncycastleCryptoTlsHandshakeType_hello_request) {
    IOSByteArray *body = [message getBody];
    IOSByteArray *buf = [IOSByteArray newArrayWithLength:LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH];
    LibOrgBouncycastleCryptoTlsTlsUtils_writeUint8WithShort_withByteArray_withInt_([message getType], buf, 0);
    LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withByteArray_withInt_(((IOSByteArray *) nil_chk(body))->size_, buf, 1);
    LibOrgBouncycastleCryptoTlsTlsUtils_writeUint16WithInt_withByteArray_withInt_([message getSeq], buf, 4);
    LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withByteArray_withInt_(0, buf, 6);
    LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withByteArray_withInt_(body->size_, buf, 9);
    [((id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>) nil_chk(self->handshakeHash_)) updateWithByteArray:buf withInt:0 withInt:buf->size_];
    [((id<LibOrgBouncycastleCryptoTlsTlsHandshakeHash>) nil_chk(self->handshakeHash_)) updateWithByteArray:body withInt:0 withInt:body->size_];
  }
  return message;
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeMessageWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message) {
  jint sendLimit = [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(self->recordLayer_)) getSendLimit];
  jint fragmentLimit = sendLimit - LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH;
  if (fragmentLimit < 1) {
    @throw new_LibOrgBouncycastleCryptoTlsTlsFatalAlert_initWithShort_(LibOrgBouncycastleCryptoTlsAlertDescription_internal_error);
  }
  jint length = ((IOSByteArray *) nil_chk([((LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *) nil_chk(message)) getBody]))->size_;
  jint fragment_offset = 0;
  do {
    jint fragment_length = JavaLangMath_minWithInt_withInt_(length - fragment_offset, fragmentLimit);
    LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_withInt_withInt_(self, message, fragment_offset, fragment_length);
    fragment_offset += fragment_length;
  }
  while (fragment_offset < length);
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_writeHandshakeFragmentWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_withInt_withInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *message, jint fragment_offset, jint fragment_length) {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer *fragment = new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer_initWithInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_MESSAGE_HEADER_LENGTH + fragment_length);
  LibOrgBouncycastleCryptoTlsTlsUtils_writeUint8WithShort_withJavaIoOutputStream_([((LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *) nil_chk(message)) getType], fragment);
  LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withJavaIoOutputStream_(((IOSByteArray *) nil_chk([message getBody]))->size_, fragment);
  LibOrgBouncycastleCryptoTlsTlsUtils_writeUint16WithInt_withJavaIoOutputStream_([message getSeq], fragment);
  LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withJavaIoOutputStream_(fragment_offset, fragment);
  LibOrgBouncycastleCryptoTlsTlsUtils_writeUint24WithInt_withJavaIoOutputStream_(fragment_length, fragment);
  [fragment writeWithByteArray:[message getBody] withInt:fragment_offset withInt:fragment_length];
  [fragment sendToRecordLayerWithLibOrgBouncycastleCryptoTlsDTLSRecordLayer:self->recordLayer_];
}

jboolean LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_checkAllWithJavaUtilHashtable_(JavaUtilHashtable *inboundFlight) {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initialize();
  id<JavaUtilEnumeration> e = [((JavaUtilHashtable *) nil_chk(inboundFlight)) elements];
  while ([((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]) {
    if ([((LibOrgBouncycastleCryptoTlsDTLSReassembler *) nil_chk(((LibOrgBouncycastleCryptoTlsDTLSReassembler *) cast_chk([e nextElement], [LibOrgBouncycastleCryptoTlsDTLSReassembler class])))) getBodyIfComplete] == nil) {
      return false;
    }
  }
  return true;
}

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_resetAllWithJavaUtilHashtable_(JavaUtilHashtable *inboundFlight) {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_initialize();
  id<JavaUtilEnumeration> e = [((JavaUtilHashtable *) nil_chk(inboundFlight)) elements];
  while ([((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]) {
    [((LibOrgBouncycastleCryptoTlsDTLSReassembler *) nil_chk(((LibOrgBouncycastleCryptoTlsDTLSReassembler *) cast_chk([e nextElement], [LibOrgBouncycastleCryptoTlsDTLSReassembler class])))) reset];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake)

@implementation LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1

- (instancetype)initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake:(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *)outer$ {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(self, outer$);
  return self;
}

- (void)receivedHandshakeRecordWithInt:(jint)epoch
                         withByteArray:(IOSByteArray *)buf
                               withInt:(jint)off
                               withInt:(jint)len {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_processRecordWithInt_withInt_withByteArray_withInt_withInt_(this$0_, 0, epoch, buf, off, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake:);
  methods[1].selector = @selector(receivedHandshakeRecordWithInt:withByteArray:withInt:withInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receivedHandshakeRecord", "I[BII", "LJavaIoIOException;", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake;", "finish" };
  static const J2ObjcClassInfo _LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 = { "", "lib.org.bouncycastle.crypto.tls", ptrTable, methods, fields, 7, 0x8010, 2, 1, 3, -1, 4, -1, -1 };
  return &_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1;
}

@end

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *self, LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$) {
  self->this$0_ = outer$;
  NSObject_init(self);
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1, initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_, outer$)
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1 *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1_initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake *outer$) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_1, initWithLibOrgBouncycastleCryptoTlsDTLSReliableHandshake_, outer$)
}

@implementation LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message

- (instancetype)initWithInt:(jint)message_seq
                  withShort:(jshort)msg_type
              withByteArray:(IOSByteArray *)body {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(self, message_seq, msg_type, body);
  return self;
}

- (jint)getSeq {
  return message_seq_;
}

- (jshort)getType {
  return msg_type_;
}

- (IOSByteArray *)getBody {
  return body_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "S", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withShort:withByteArray:);
  methods[1].selector = @selector(getSeq);
  methods[2].selector = @selector(getType);
  methods[3].selector = @selector(getBody);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "message_seq_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "msg_type_", "S", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "body_", "[B", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "IS[B", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake;" };
  static const J2ObjcClassInfo _LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message = { "Message", "lib.org.bouncycastle.crypto.tls", ptrTable, methods, fields, 7, 0x8, 4, 3, 1, -1, -1, -1, -1 };
  return &_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message;
}

@end

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *self, jint message_seq, jshort msg_type, IOSByteArray *body) {
  NSObject_init(self);
  self->message_seq_ = message_seq;
  self->msg_type_ = msg_type;
  self->body_ = body;
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(jint message_seq, jshort msg_type, IOSByteArray *body) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message, initWithInt_withShort_withByteArray_, message_seq, msg_type, body)
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message_initWithInt_withShort_withByteArray_(jint message_seq, jshort msg_type, IOSByteArray *body) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message, initWithInt_withShort_withByteArray_, message_seq, msg_type, body)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_Message)

@implementation LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer

- (instancetype)initWithInt:(jint)size {
  LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer_initWithInt_(self, size);
  return self;
}

- (void)sendToRecordLayerWithLibOrgBouncycastleCryptoTlsDTLSRecordLayer:(LibOrgBouncycastleCryptoTlsDTLSRecordLayer *)recordLayer {
  [((LibOrgBouncycastleCryptoTlsDTLSRecordLayer *) nil_chk(recordLayer)) sendWithByteArray:buf_ withInt:0 withInt:count_];
  buf_ = nil;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 1, 2, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:);
  methods[1].selector = @selector(sendToRecordLayerWithLibOrgBouncycastleCryptoTlsDTLSRecordLayer:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "I", "sendToRecordLayer", "LLibOrgBouncycastleCryptoTlsDTLSRecordLayer;", "LJavaIoIOException;", "LLibOrgBouncycastleCryptoTlsDTLSReliableHandshake;" };
  static const J2ObjcClassInfo _LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer = { "RecordLayerBuffer", "lib.org.bouncycastle.crypto.tls", ptrTable, methods, NULL, 7, 0x8, 2, 0, 4, -1, -1, -1, -1 };
  return &_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer;
}

@end

void LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer_initWithInt_(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer *self, jint size) {
  JavaIoByteArrayOutputStream_initWithInt_(self, size);
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer *new_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer_initWithInt_(jint size) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer, initWithInt_, size)
}

LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer *create_LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer_initWithInt_(jint size) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer, initWithInt_, size)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastleCryptoTlsDTLSReliableHandshake_RecordLayerBuffer)
