//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../android/src/main/kotlin/lib/org/bouncycastle/pqc/math/ntru/polynomial/LongPolynomial2.java
//

#include "Arrays.h"
#include "IOSPrimitiveArray.h"
#include "IntegerPolynomial.h"
#include "J2ObjC_source.h"
#include "LongPolynomial2.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"

@interface LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 () {
 @public
  IOSLongArray *coeffs_;
  jint numCoeffs_;
}

- (instancetype)initWithLongArray:(IOSLongArray *)coeffs;

- (instancetype)initWithInt:(jint)N;

- (LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2;

- (void)addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b;

- (void)subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b;

@end

J2OBJC_FIELD_SETTER(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, coeffs_, IOSLongArray *)

__attribute__((unused)) static void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, IOSLongArray *coeffs);

__attribute__((unused)) static LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) NS_RETURNS_RETAINED;

__attribute__((unused)) static LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, jint N);

__attribute__((unused)) static LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) NS_RETURNS_RETAINED;

__attribute__((unused)) static LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N);

__attribute__((unused)) static LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *poly2);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b);

@implementation LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2

- (instancetype)initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial:(LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *)p {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(self, p);
  return self;
}

- (instancetype)initWithLongArray:(IOSLongArray *)coeffs {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(self, coeffs);
  return self;
}

- (instancetype)initWithInt:(jint)N {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(self, N);
  return self;
}

- (LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2 {
  jint N = ((IOSLongArray *) nil_chk(coeffs_))->size_;
  if (((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(poly2))->coeffs_->size_ != N || numCoeffs_ != poly2->numCoeffs_) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"Number of coefficients must be the same");
  }
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, poly2);
  if (((IOSLongArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c))->coeffs_))->size_ > N) {
    if (numCoeffs_ % 2 == 0) {
      for (jint k = N; k < c->coeffs_->size_; k++) {
        *IOSLongArray_GetRef(c->coeffs_, k - N) = (IOSLongArray_Get(c->coeffs_, k - N) + IOSLongArray_Get(c->coeffs_, k)) & (jlong) 0x7FF0007FFLL;
      }
      c->coeffs_ = LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(c->coeffs_, N);
    }
    else {
      for (jint k = N; k < c->coeffs_->size_; k++) {
        *IOSLongArray_GetRef(c->coeffs_, k - N) = IOSLongArray_Get(c->coeffs_, k - N) + (JreRShift64(IOSLongArray_Get(c->coeffs_, k - 1), 24));
        *IOSLongArray_GetRef(c->coeffs_, k - N) = IOSLongArray_Get(c->coeffs_, k - N) + (JreLShift64((IOSLongArray_Get(c->coeffs_, k) & 2047), 24));
        *IOSLongArray_GetRef(c->coeffs_, k - N) &= (jlong) 0x7FF0007FFLL;
      }
      c->coeffs_ = LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(c->coeffs_, N);
      *IOSLongArray_GetRef(c->coeffs_, ((IOSLongArray *) nil_chk(c->coeffs_))->size_ - 1) &= 2047;
    }
  }
  c = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(c->coeffs_);
  c->numCoeffs_ = numCoeffs_;
  return c;
}

- (LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *)toIntegerPolynomial {
  IOSIntArray *intCoeffs = [IOSIntArray newArrayWithLength:numCoeffs_];
  jint uIdx = 0;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(coeffs_))->size_; i++) {
    *IOSIntArray_GetRef(intCoeffs, uIdx++) = (jint) (IOSLongArray_Get(coeffs_, i) & 2047);
    if (uIdx < numCoeffs_) {
      *IOSIntArray_GetRef(intCoeffs, uIdx++) = (jint) ((JreRShift64(IOSLongArray_Get(coeffs_, i), 24)) & 2047);
    }
  }
  return new_LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_initWithIntArray_(intCoeffs);
}

- (LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2 {
  return LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, poly2);
}

- (void)addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, b);
}

- (void)subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, b);
}

- (void)subAndWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b
                                                                 withInt:(jint)mask {
  jlong longMask = (JreLShift64(((jlong) mask), 24)) + mask;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_; i++) {
    *IOSLongArray_GetRef(coeffs_, i) = ((jlong) 0x0800000800000LL + IOSLongArray_Get(coeffs_, i) - IOSLongArray_Get(b->coeffs_, i)) & longMask;
  }
}

- (void)mult2AndWithInt:(jint)mask {
  jlong longMask = (JreLShift64(((jlong) mask), 24)) + mask;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(coeffs_))->size_; i++) {
    *IOSLongArray_GetRef(coeffs_, i) = (JreLShift64(IOSLongArray_Get(coeffs_, i), 1)) & longMask;
  }
}

- (id)java_clone {
  LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *p = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_([((IOSLongArray *) nil_chk(coeffs_)) java_clone]);
  p->numCoeffs_ = numCoeffs_;
  return p;
}

- (jboolean)isEqual:(id)obj {
  if ([obj isKindOfClass:[LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]]) {
    return LibOrgBouncycastleUtilArrays_areEqualWithLongArray_withLongArray_(coeffs_, ((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) obj)))->coeffs_);
  }
  else {
    return false;
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 2, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", 0x2, 5, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 6, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 8, 9, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 10, 2, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 11, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 12, 13, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial:);
  methods[1].selector = @selector(initWithLongArray:);
  methods[2].selector = @selector(initWithInt:);
  methods[3].selector = @selector(multWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[4].selector = @selector(toIntegerPolynomial);
  methods[5].selector = @selector(multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[6].selector = @selector(addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[7].selector = @selector(subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[8].selector = @selector(subAndWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:withInt:);
  methods[9].selector = @selector(mult2AndWithInt:);
  methods[10].selector = @selector(java_clone);
  methods[11].selector = @selector(isEqual:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "coeffs_", "[J", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "numCoeffs_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial;", "[J", "I", "mult", "LLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", "multRecursive", "add", "sub", "subAnd", "LLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;I", "mult2And", "clone", "equals", "LNSObject;" };
  static const J2ObjcClassInfo _LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 = { "LongPolynomial2", "lib.org.bouncycastle.pqc.math.ntru.polynomial", ptrTable, methods, fields, 7, 0x1, 12, 2, -1, -1, -1, -1, -1 };
  return &_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;
}

@end

void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  NSObject_init(self);
  self->numCoeffs_ = ((IOSIntArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *) nil_chk(p))->coeffs_))->size_;
  self->coeffs_ = [IOSLongArray newArrayWithLength:(self->numCoeffs_ + 1) / 2];
  jint idx = 0;
  for (jint pIdx = 0; pIdx < self->numCoeffs_; ) {
    jint c0 = IOSIntArray_Get(p->coeffs_, pIdx++);
    while (c0 < 0) {
      c0 += 2048;
    }
    jlong c1 = pIdx < self->numCoeffs_ ? IOSIntArray_Get(p->coeffs_, pIdx++) : 0;
    while (c1 < 0) {
      c1 += 2048;
    }
    *IOSLongArray_GetRef(self->coeffs_, idx) = c0 + (JreLShift64(c1, 24));
    idx++;
  }
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_, p)
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(LibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLibOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_, p)
}

void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, IOSLongArray *coeffs) {
  NSObject_init(self);
  self->coeffs_ = coeffs;
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLongArray_, coeffs)
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLongArray_, coeffs)
}

void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, jint N) {
  NSObject_init(self);
  self->coeffs_ = [IOSLongArray newArrayWithLength:N];
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithInt_, N)
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithInt_, N)
}

LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *poly2) {
  IOSLongArray *a = self->coeffs_;
  IOSLongArray *b = ((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(poly2))->coeffs_;
  jint n = ((IOSLongArray *) nil_chk(poly2->coeffs_))->size_;
  if (n <= 32) {
    jint cn = 2 * n;
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_([IOSLongArray newArrayWithLength:cn]);
    for (jint k = 0; k < cn; k++) {
      for (jint i = JavaLangMath_maxWithInt_withInt_(0, k - n + 1); i <= JavaLangMath_minWithInt_withInt_(k, n - 1); i++) {
        jlong c0 = IOSLongArray_Get(nil_chk(a), k - i) * IOSLongArray_Get(nil_chk(b), i);
        jlong cu = c0 & ((jlong) 0x7FF000000LL + (c0 & 2047));
        jlong co = (JreURShift64(c0, 48)) & 2047;
        *IOSLongArray_GetRef(nil_chk(c->coeffs_), k) = (IOSLongArray_Get(c->coeffs_, k) + cu) & (jlong) 0x7FF0007FFLL;
        *IOSLongArray_GetRef(c->coeffs_, k + 1) = (IOSLongArray_Get(c->coeffs_, k + 1) + co) & (jlong) 0x7FF0007FFLL;
      }
    }
    return c;
  }
  else {
    jint n1 = n / 2;
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *a1 = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(a, n1));
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *a2 = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastleUtilArrays_copyOfRangeWithLongArray_withInt_withInt_(a, n1, n));
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b1 = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(b, n1));
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b2 = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(LibOrgBouncycastleUtilArrays_copyOfRangeWithLongArray_withInt_withInt_(b, n1, n));
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *A = (LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) cast_chk([a1 java_clone], [LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(A), a2);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *B = (LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) cast_chk([b1 java_clone], [LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(B), b2);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c1 = LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(a1, b1);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c2 = LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(a2, b2);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c3 = LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(A, B);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(c3), c1);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(c3, c2);
    LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = new_LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(2 * n);
    for (jint i = 0; i < ((IOSLongArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c1))->coeffs_))->size_; i++) {
      *IOSLongArray_GetRef(c->coeffs_, i) = IOSLongArray_Get(c1->coeffs_, i) & (jlong) 0x7FF0007FFLL;
    }
    for (jint i = 0; i < c3->coeffs_->size_; i++) {
      *IOSLongArray_GetRef(c->coeffs_, n1 + i) = (IOSLongArray_Get(c->coeffs_, n1 + i) + IOSLongArray_Get(c3->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
    }
    for (jint i = 0; i < ((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c2))->coeffs_->size_; i++) {
      *IOSLongArray_GetRef(c->coeffs_, 2 * n1 + i) = (IOSLongArray_Get(c->coeffs_, 2 * n1 + i) + IOSLongArray_Get(c2->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
    }
    return c;
  }
}

void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b) {
  if (((IOSLongArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_ > self->coeffs_->size_) {
    self->coeffs_ = LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(self->coeffs_, b->coeffs_->size_);
  }
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(b->coeffs_))->size_; i++) {
    *IOSLongArray_GetRef(self->coeffs_, i) = (IOSLongArray_Get(self->coeffs_, i) + IOSLongArray_Get(b->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
  }
}

void LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithLibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b) {
  if (((IOSLongArray *) nil_chk(((LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_ > self->coeffs_->size_) {
    self->coeffs_ = LibOrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(self->coeffs_, b->coeffs_->size_);
  }
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(b->coeffs_))->size_; i++) {
    *IOSLongArray_GetRef(self->coeffs_, i) = ((jlong) 0x0800000800000LL + IOSLongArray_Get(self->coeffs_, i) - IOSLongArray_Get(b->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2)
