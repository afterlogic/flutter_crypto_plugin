//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../android/src/main/kotlin/lib/org/bouncycastle/pqc/math/linearalgebra/GF2nPolynomialElement.java
//

#include "GF2nElement.h"
#include "GF2nField.h"
#include "GF2nPolynomialElement.h"
#include "GF2nPolynomialField.h"
#include "GFElement.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "IntegerFunctions.h"
#include "J2ObjC_source.h"
#include "PqcMathGF2Polynomial.h"
#include "java/lang/ArithmeticException.h"
#include "java/lang/RuntimeException.h"
#include "java/math/BigInteger.h"
#include "java/util/Random.h"

@interface LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement () {
 @public
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *polynomial_;
}

- (void)randomizeWithJavaUtilRandom:(JavaUtilRandom *)rand;

- (LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *)getGF2Polynomial;

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)halfTrace;

- (void)reduceThis;

- (void)reduceTrinomialBitwiseWithInt:(jint)tc;

- (void)reducePentanomialBitwiseWithIntArray:(IOSIntArray *)pc;

@end

J2OBJC_FIELD_SETTER(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, polynomial_, LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *)

inline IOSIntArray *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_get_bitMask(void);
static IOSIntArray *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_bitMask;
J2OBJC_STATIC_FIELD_OBJ_FINAL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, bitMask, IOSIntArray *)

__attribute__((unused)) static void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_randomizeWithJavaUtilRandom_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, JavaUtilRandom *rand);

__attribute__((unused)) static LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_getGF2Polynomial(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self);

__attribute__((unused)) static LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_halfTrace(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceTrinomialBitwiseWithInt_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, jint tc);

__attribute__((unused)) static void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reducePentanomialBitwiseWithIntArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, IOSIntArray *pc);

J2OBJC_INITIALIZED_DEFN(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement)

@implementation LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement

- (instancetype)initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f
                                                               withJavaUtilRandom:(JavaUtilRandom *)rand {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_(self, f, rand);
  return self;
}

- (instancetype)initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f
                   withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:(LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *)bs {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(self, f, bs);
  return self;
}

- (instancetype)initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f
                                                                    withByteArray:(IOSByteArray *)os {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_(self, f, os);
  return self;
}

- (instancetype)initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f
                                                                     withIntArray:(IOSIntArray *)is {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_(self, f, is);
  return self;
}

- (instancetype)initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)other {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self, other);
  return self;
}

- (id)java_clone {
  return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
}

- (void)assignZero {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) assignZero];
}

+ (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f {
  return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_(f);
}

+ (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)ONEWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *)f {
  return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ONEWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_(f);
}

- (void)assignOne {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) assignOne];
}

- (void)randomizeWithJavaUtilRandom:(JavaUtilRandom *)rand {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_randomizeWithJavaUtilRandom_(self, rand);
}

- (jboolean)isZero {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) isZero];
}

- (jboolean)isOne {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) isOne];
}

- (jboolean)isEqual:(id)other {
  if (other == nil || !([other isKindOfClass:[LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]])) {
    return false;
  }
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *otherElem = (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk(other, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]);
  if (mField_ != otherElem->mField_) {
    if (![((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk([((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getFieldPolynomial])) isEqual:[((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(otherElem->mField_)) getFieldPolynomial]]) {
      return false;
    }
  }
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) isEqual:otherElem->polynomial_];
}

- (NSUInteger)hash {
  return ((jint) [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) hash]) + ((jint) [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) hash]);
}

- (LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *)getGF2Polynomial {
  return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_getGF2Polynomial(self);
}

- (jboolean)testBitWithInt:(jint)index {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) testBitWithInt:index];
}

- (jboolean)testRightmostBit {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) testBitWithInt:0];
}

- (id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)addWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:(id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)addend {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:addend];
  return result;
}

- (void)addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:(id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)addend {
  if (!([addend isKindOfClass:[LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]])) {
    @throw new_JavaLangRuntimeException_init();
  }
  if (![((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) isEqual:((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk(addend, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]))))->mField_]) {
    @throw new_JavaLangRuntimeException_init();
  }
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) addToThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk(addend, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]))))->polynomial_];
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nElement *)increase {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result increaseThis];
  return result;
}

- (void)increaseThis {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) increaseThis];
}

- (id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)multiplyWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:(id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)factor {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:factor];
  return result;
}

- (void)multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:(id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)factor {
  if (!([factor isKindOfClass:[LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]])) {
    @throw new_JavaLangRuntimeException_init();
  }
  if (![((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) isEqual:((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk(factor, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]))))->mField_]) {
    @throw new_JavaLangRuntimeException_init();
  }
  if ([self isEqual:factor]) {
    [self squareThis];
    return;
  }
  polynomial_ = [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) multiplyWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk(factor, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]))))->polynomial_];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(self);
}

- (id<LibOrgBouncycastlePqcMathLinearalgebraGFElement>)invert {
  return [self invertMAIA];
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)invertEEA {
  if ([self isZero]) {
    @throw new_JavaLangArithmeticException_init();
  }
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *b = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_withNSString_(mDegree_ + 32, @"ONE");
  [b reduceN];
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *c = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_(mDegree_ + 32);
  [c reduceN];
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *u = LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_getGF2Polynomial(self);
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *v = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getFieldPolynomial];
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *h;
  jint j;
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(u)) reduceN];
  while (![u isOne]) {
    [u reduceN];
    [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(v)) reduceN];
    j = [u getLength] - [v getLength];
    if (j < 0) {
      h = u;
      u = v;
      v = h;
      h = b;
      b = c;
      c = h;
      j = -j;
      [c reduceN];
    }
    [u shiftLeftAddThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:v withInt:j];
    [b shiftLeftAddThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:c withInt:j];
  }
  [b reduceN];
  return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]), b);
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)invertSquare {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *n;
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *u;
  jint i;
  jint j;
  jint k;
  jint b;
  if ([self isZero]) {
    @throw new_JavaLangArithmeticException_init();
  }
  b = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getDegree] - 1;
  n = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(n->polynomial_)) expandNWithInt:(JreLShift32(mDegree_, 1)) + 32];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(n->polynomial_)) reduceN];
  k = 1;
  for (i = LibOrgBouncycastlePqcMathLinearalgebraIntegerFunctions_floorLogWithInt_(b) - 1; i >= 0; i--) {
    u = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(n);
    for (j = 1; j <= k; j++) {
      [u squareThisPreCalc];
    }
    [n multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:u];
    JreLShiftAssignInt(&k, 1);
    if ((b & IOSIntArray_Get(nil_chk(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_bitMask), i)) != 0) {
      [n squareThisPreCalc];
      [n multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:self];
      k += 1;
    }
  }
  [n squareThisPreCalc];
  return n;
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)invertMAIA {
  if ([self isZero]) {
    @throw new_JavaLangArithmeticException_init();
  }
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *b = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_withNSString_(mDegree_, @"ONE");
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *c = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_(mDegree_);
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *u = LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_getGF2Polynomial(self);
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *v = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getFieldPolynomial];
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *h;
  while (true) {
    while (![((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(u)) testBitWithInt:0]) {
      [u shiftRightThis];
      if (![b testBitWithInt:0]) {
        [b shiftRightThis];
      }
      else {
        [b addToThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:[((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getFieldPolynomial]];
        [b shiftRightThis];
      }
    }
    if ([u isOne]) {
      return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]), b);
    }
    [u reduceN];
    [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(v)) reduceN];
    if ([u getLength] < [v getLength]) {
      h = u;
      u = v;
      v = h;
      h = b;
      b = c;
      c = h;
    }
    [u addToThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:v];
    [b addToThisWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:c];
  }
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nElement *)square {
  return [self squarePreCalc];
}

- (void)squareThis {
  [self squareThisPreCalc];
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)squareMatrix {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result squareThisMatrix];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(result);
  return result;
}

- (void)squareThisMatrix {
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *result = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_(mDegree_);
  for (jint i = 0; i < mDegree_; i++) {
    if ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) vectorMultWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:IOSObjectArray_Get(nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]))))->squaringMatrix_), mDegree_ - i - 1)]) {
      [result setBitWithInt:i];
    }
  }
  polynomial_ = result;
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)squareBitwise {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result squareThisBitwise];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(result);
  return result;
}

- (void)squareThisBitwise {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) squareThisBitwise];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(self);
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)squarePreCalc {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result squareThisPreCalc];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(result);
  return result;
}

- (void)squareThisPreCalc {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) squareThisPreCalc];
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(self);
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)powerWithInt:(jint)k {
  if (k == 1) {
    return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  }
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ONEWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]));
  if (k == 0) {
    return result;
  }
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *x = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(x->polynomial_)) expandNWithInt:(JreLShift32(x->mDegree_, 1)) + 32];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(x->polynomial_)) reduceN];
  for (jint i = 0; i < mDegree_; i++) {
    if ((k & (JreLShift32(1, i))) != 0) {
      [((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(result)) multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:x];
    }
    (void) [x square];
  }
  return result;
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nElement *)squareRoot {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *result = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  [result squareRootThis];
  return result;
}

- (void)squareRootThis {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) expandNWithInt:(JreLShift32(mDegree_, 1)) + 32];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) reduceN];
  for (jint i = 0; i < [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(mField_)) getDegree] - 1; i++) {
    [self squareThis];
  }
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nElement *)solveQuadraticEquation {
  if ([self isZero]) {
    return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]));
  }
  if ((mDegree_ & 1) == 1) {
    return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_halfTrace(self);
  }
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *z;
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *w;
  do {
    LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *p = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]), new_JavaUtilRandom_init());
    z = LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class]));
    w = (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) cast_chk([p java_clone], [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]);
    for (jint i = 1; i < mDegree_; i++) {
      [((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(z)) squareThis];
      [((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(w)) squareThis];
      [z addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:[w multiplyWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:self]];
      [w addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:p];
    }
  }
  while ([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(w)) isZero]);
  if (![self isEqual:[((LibOrgBouncycastlePqcMathLinearalgebraGF2nElement *) nil_chk([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(z)) square])) addWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:z]]) {
    @throw new_JavaLangRuntimeException_init();
  }
  return z;
}

- (jint)trace {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *t = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  jint i;
  for (i = 1; i < mDegree_; i++) {
    [t squareThis];
    [t addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:self];
  }
  if ([t isOne]) {
    return 1;
  }
  return 0;
}

- (LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *)halfTrace {
  return LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_halfTrace(self);
}

- (void)reduceThis {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(self);
}

- (void)reduceTrinomialBitwiseWithInt:(jint)tc {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceTrinomialBitwiseWithInt_(self, tc);
}

- (void)reducePentanomialBitwiseWithIntArray:(IOSIntArray *)pc {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reducePentanomialBitwiseWithIntArray_(self, pc);
}

- (NSString *)description {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) toStringWithInt:16];
}

- (NSString *)toStringWithInt:(jint)radix {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) toStringWithInt:radix];
}

- (IOSByteArray *)toByteArray {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) toByteArray];
}

- (JavaMathBigInteger *)toFlexiBigInt {
  return [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(polynomial_)) toFlexiBigInt];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 3, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 4, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 5, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x9, 6, 7, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x9, 8, 7, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 9, 10, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 11, 12, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 13, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial;", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x0, 14, 15, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGFElement;", 0x1, 16, 17, 18, -1, -1, -1 },
    { NULL, "V", 0x1, 19, 17, 18, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGFElement;", 0x1, 20, 17, 18, -1, -1, -1 },
    { NULL, "V", 0x1, 21, 17, 18, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGFElement;", 0x1, -1, -1, 22, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, 22, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, 22, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, 22, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x1, 23, 15, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nElement;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nElement;", 0x1, -1, -1, 18, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", 0x2, -1, -1, 18, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 24, 15, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 25, 26, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 27, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 27, 15, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaMathBigInteger;", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:withJavaUtilRandom:);
  methods[1].selector = @selector(initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:);
  methods[2].selector = @selector(initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:withByteArray:);
  methods[3].selector = @selector(initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:withIntArray:);
  methods[4].selector = @selector(initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement:);
  methods[5].selector = @selector(java_clone);
  methods[6].selector = @selector(assignZero);
  methods[7].selector = @selector(ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:);
  methods[8].selector = @selector(ONEWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField:);
  methods[9].selector = @selector(assignOne);
  methods[10].selector = @selector(randomizeWithJavaUtilRandom:);
  methods[11].selector = @selector(isZero);
  methods[12].selector = @selector(isOne);
  methods[13].selector = @selector(isEqual:);
  methods[14].selector = @selector(hash);
  methods[15].selector = @selector(getGF2Polynomial);
  methods[16].selector = @selector(testBitWithInt:);
  methods[17].selector = @selector(testRightmostBit);
  methods[18].selector = @selector(addWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:);
  methods[19].selector = @selector(addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:);
  methods[20].selector = @selector(increase);
  methods[21].selector = @selector(increaseThis);
  methods[22].selector = @selector(multiplyWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:);
  methods[23].selector = @selector(multiplyThisByWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:);
  methods[24].selector = @selector(invert);
  methods[25].selector = @selector(invertEEA);
  methods[26].selector = @selector(invertSquare);
  methods[27].selector = @selector(invertMAIA);
  methods[28].selector = @selector(square);
  methods[29].selector = @selector(squareThis);
  methods[30].selector = @selector(squareMatrix);
  methods[31].selector = @selector(squareThisMatrix);
  methods[32].selector = @selector(squareBitwise);
  methods[33].selector = @selector(squareThisBitwise);
  methods[34].selector = @selector(squarePreCalc);
  methods[35].selector = @selector(squareThisPreCalc);
  methods[36].selector = @selector(powerWithInt:);
  methods[37].selector = @selector(squareRoot);
  methods[38].selector = @selector(squareRootThis);
  methods[39].selector = @selector(solveQuadraticEquation);
  methods[40].selector = @selector(trace);
  methods[41].selector = @selector(halfTrace);
  methods[42].selector = @selector(reduceThis);
  methods[43].selector = @selector(reduceTrinomialBitwiseWithInt:);
  methods[44].selector = @selector(reducePentanomialBitwiseWithIntArray:);
  methods[45].selector = @selector(description);
  methods[46].selector = @selector(toStringWithInt:);
  methods[47].selector = @selector(toByteArray);
  methods[48].selector = @selector(toFlexiBigInt);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "bitMask", "[I", .constantValue.asLong = 0, 0x1a, -1, 28, -1, -1 },
    { "polynomial_", "LLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField;LJavaUtilRandom;", "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField;LLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial;", "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField;[B", "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField;[I", "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;", "clone", "ZERO", "LLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField;", "ONE", "randomize", "LJavaUtilRandom;", "equals", "LNSObject;", "hashCode", "testBit", "I", "add", "LLibOrgBouncycastlePqcMathLinearalgebraGFElement;", "LJavaLangRuntimeException;", "addToThis", "multiply", "multiplyThisBy", "LJavaLangArithmeticException;", "power", "reduceTrinomialBitwise", "reducePentanomialBitwise", "[I", "toString", &LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_bitMask };
  static const J2ObjcClassInfo _LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement = { "GF2nPolynomialElement", "lib.org.bouncycastle.pqc.math.linearalgebra", ptrTable, methods, fields, 7, 0x1, 49, 2, -1, -1, -1, -1, -1 };
  return &_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement;
}

+ (void)initialize {
  if (self == [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement class]) {
    LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_bitMask = [IOSIntArray newArrayWithInts:(jint[]){ (jint) 0x00000001, (jint) 0x00000002, (jint) 0x00000004, (jint) 0x00000008, (jint) 0x00000010, (jint) 0x00000020, (jint) 0x00000040, (jint) 0x00000080, (jint) 0x00000100, (jint) 0x00000200, (jint) 0x00000400, (jint) 0x00000800, (jint) 0x00001000, (jint) 0x00002000, (jint) 0x00004000, (jint) 0x00008000, (jint) 0x00010000, (jint) 0x00020000, (jint) 0x00040000, (jint) 0x00080000, (jint) 0x00100000, (jint) 0x00200000, (jint) 0x00400000, (jint) 0x00800000, (jint) 0x01000000, (jint) 0x02000000, (jint) 0x04000000, (jint) 0x08000000, (jint) 0x10000000, (jint) 0x20000000, (jint) 0x40000000, -0x7fffffff - 1, (jint) 0x00000000 } count:33];
    J2OBJC_SET_INITIALIZED(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement)
  }
}

@end

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, JavaUtilRandom *rand) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nElement_init(self);
  self->mField_ = f;
  self->mDegree_ = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(self->mField_)) getDegree];
  self->polynomial_ = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_(self->mDegree_);
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_randomizeWithJavaUtilRandom_(self, rand);
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, JavaUtilRandom *rand) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_, f, rand)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *create_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, JavaUtilRandom *rand) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withJavaUtilRandom_, f, rand)
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *bs) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nElement_init(self);
  self->mField_ = f;
  self->mDegree_ = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(self->mField_)) getDegree];
  self->polynomial_ = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(bs);
  [self->polynomial_ expandNWithInt:self->mDegree_];
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *bs) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_, f, bs)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *create_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *bs) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_, f, bs)
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSByteArray *os) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nElement_init(self);
  self->mField_ = f;
  self->mDegree_ = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(self->mField_)) getDegree];
  self->polynomial_ = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_withByteArray_(self->mDegree_, os);
  [self->polynomial_ expandNWithInt:self->mDegree_];
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSByteArray *os) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_, f, os)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *create_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSByteArray *os) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withByteArray_, f, os)
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSIntArray *is) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nElement_init(self);
  self->mField_ = f;
  self->mDegree_ = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(self->mField_)) getDegree];
  self->polynomial_ = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_withIntArray_(self->mDegree_, is);
  [self->polynomial_ expandNWithInt:((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(f))->mDegree_];
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSIntArray *is) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_, f, is)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *create_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f, IOSIntArray *is) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withIntArray_, f, is)
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *other) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nElement_init(self);
  self->mField_ = ((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *) nil_chk(other))->mField_;
  self->mDegree_ = other->mDegree_;
  self->polynomial_ = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(other->polynomial_);
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *other) {
  J2OBJC_NEW_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_, other)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *create_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *other) {
  J2OBJC_CREATE_IMPL(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement, initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_, other)
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ZEROWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initialize();
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *polynomial = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(f)) getDegree]);
  return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(f, polynomial);
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_ONEWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *f) {
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initialize();
  LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *polynomial = new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithInt_withIntArray_([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(f)) getDegree], [IOSIntArray newArrayWithInts:(jint[]){ 1 } count:1]);
  return new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField_withLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(f, polynomial);
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_randomizeWithJavaUtilRandom_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, JavaUtilRandom *rand) {
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) expandNWithInt:self->mDegree_];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) randomizeWithJavaUtilRandom:rand];
}

LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_getGF2Polynomial(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self) {
  return new_LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_initWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial_(self->polynomial_);
}

LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_halfTrace(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self) {
  if ((self->mDegree_ & (jint) 0x01) == 0) {
    @throw new_JavaLangRuntimeException_init();
  }
  jint i;
  LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *h = new_LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_initWithLibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_(self);
  for (i = 1; i <= (JreRShift32((self->mDegree_ - 1), 1)); i++) {
    [h squareThis];
    [h squareThis];
    [h addToThisWithLibOrgBouncycastlePqcMathLinearalgebraGFElement:self];
  }
  return h;
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceThis(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self) {
  if ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] > self->mDegree_) {
    if ([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(self->mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class])))) isTrinomial]) {
      jint tc;
      @try {
        tc = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(self->mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class])))) getTc];
      }
      @catch (JavaLangRuntimeException *NATExc) {
        @throw new_JavaLangRuntimeException_initWithNSString_(@"GF2nPolynomialElement.reduce: the field polynomial is not a trinomial");
      }
      if (((self->mDegree_ - tc) <= 32) || ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] > (JreLShift32(self->mDegree_, 1)))) {
        LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceTrinomialBitwiseWithInt_(self, tc);
        return;
      }
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) reduceTrinomialWithInt:self->mDegree_ withInt:tc];
      return;
    }
    else if ([((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(self->mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class])))) isPentanomial]) {
      IOSIntArray *pc;
      @try {
        pc = [((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) nil_chk(((LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField *) cast_chk(self->mField_, [LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialField class])))) getPc];
      }
      @catch (JavaLangRuntimeException *NATExc) {
        @throw new_JavaLangRuntimeException_initWithNSString_(@"GF2nPolynomialElement.reduce: the field polynomial is not a pentanomial");
      }
      if (((self->mDegree_ - IOSIntArray_Get(nil_chk(pc), 2)) <= 32) || ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] > (JreLShift32(self->mDegree_, 1)))) {
        LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reducePentanomialBitwiseWithIntArray_(self, pc);
        return;
      }
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) reducePentanomialWithInt:self->mDegree_ withIntArray:pc];
      return;
    }
    else {
      self->polynomial_ = [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) remainderWithLibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial:[((LibOrgBouncycastlePqcMathLinearalgebraGF2nField *) nil_chk(self->mField_)) getFieldPolynomial]];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) expandNWithInt:self->mDegree_];
      return;
    }
  }
  if ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] < self->mDegree_) {
    [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) expandNWithInt:self->mDegree_];
  }
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reduceTrinomialBitwiseWithInt_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, jint tc) {
  jint i;
  jint k = self->mDegree_ - tc;
  for (i = [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] - 1; i >= self->mDegree_; i--) {
    if ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) testBitWithInt:i]) {
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - k];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - self->mDegree_];
    }
  }
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) reduceN];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) expandNWithInt:self->mDegree_];
}

void LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement_reducePentanomialBitwiseWithIntArray_(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement *self, IOSIntArray *pc) {
  jint i;
  jint k = self->mDegree_ - IOSIntArray_Get(nil_chk(pc), 2);
  jint l = self->mDegree_ - IOSIntArray_Get(pc, 1);
  jint m = self->mDegree_ - IOSIntArray_Get(pc, 0);
  for (i = [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) getLength] - 1; i >= self->mDegree_; i--) {
    if ([((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) testBitWithInt:i]) {
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - k];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - l];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - m];
      [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) xorBitWithInt:i - self->mDegree_];
    }
  }
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) reduceN];
  [((LibOrgBouncycastlePqcMathLinearalgebraPqcMathGF2Polynomial *) nil_chk(self->polynomial_)) expandNWithInt:self->mDegree_];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(LibOrgBouncycastlePqcMathLinearalgebraGF2nPolynomialElement)
